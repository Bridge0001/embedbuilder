(this.webpackJsonpembedbuilder=this.webpackJsonpembedbuilder||[]).push([[0],{262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(88),i=a.n(l),o=(a(95),a(2)),c=a(5),u=a(4),s=a(3),m=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"copyright"},"Copyright \xa9 2019 - The Bastion Bot Project"))}}]),a}(r.a.Component),d=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).render=function(){return r.a.createElement("header",null,r.a.createElement("div",{id:"back-to-home"},r.a.createElement("a",{href:"https://bastion.traction.one"},"\u2190")),r.a.createElement("div",{title:"Graphically create Bastion Embed Objects, and use it with various commands of Bastion."},"Bastion Embed Builder"))},e}return a}(r.a.PureComponent),h=a(89),p=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChangeComplete=function(e,t){n.setState({color:e.hex,intColor:65536*Math.round(e.rgb.r)+256*Math.round(e.rgb.g)+Math.round(e.rgb.b)}),document.getElementById("builder-container").style["border-left"]="5px solid ".concat(e.hex)},n.state={color:"#4f545c",intColor:0,displayColorPicker:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"embed-group embed-color"},r.a.createElement("input",{id:"color",type:"text",name:"color",placeholder:"Embed Color",value:this.state.intColor,onClick:this.handleClick,style:{cursor:"pointer"},readOnly:!0}),this.state.displayColorPicker?r.a.createElement("div",{style:{position:"absolute",zIndex:2}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",backgroundColor:"rgba(0, 0, 0, .15)"},onClick:this.handleClose}),r.a.createElement(h.ChromePicker,{color:this.state.color,disableAlpha:!0,onChangeComplete:this.handleChangeComplete})):null)}}]),a}(r.a.Component),v=a(13),b=a(7),g=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:"",URL:"",iconURL:""},n}return Object(c.a)(a,[{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"updateURL",value:function(e){var t=e.target.className.trim().split(" ");e.target.value.length&&!b.RegEx.URL.test(e.target.value)?t.push("invalid"):t.splice(t.indexOf("invalid"),1),e.target.className=Object(v.a)(new Set(t)).join(" ").trim(),this.setState({URL:e.target.value})}},{key:"updateIconURL",value:function(e){var t=e.target.className.trim().split(" ");e.target.value.length&&!b.RegEx.imageURL.test(e.target.value)?t.push("invalid"):t.splice(t.indexOf("invalid"),1),e.target.className=Object(v.a)(new Set(t)).join(" ").trim(),this.setState({iconURL:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"embed-group embed-author"},r.a.createElement("div",{className:"embed-author-icon"},r.a.createElement("input",{type:"url",name:"author:icon_url",placeholder:"Author Icon URL",value:this.state.iconURL,onChange:function(t){return e.updateIconURL(t)}})),r.a.createElement("div",{className:"embed-author-name"},r.a.createElement("input",{type:"text",name:"author:name",placeholder:"Author Name",maxLength:"256",value:this.state.name,onChange:function(t){return e.updateName(t)}})),r.a.createElement("div",{className:"embed-author-url"},r.a.createElement("input",{type:"url",name:"author:url",placeholder:"Author URL",value:this.state.URL,onChange:function(t){return e.updateURL(t)}})))}}]),a}(r.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={title:"",URL:""},n}return Object(c.a)(a,[{key:"updateTitle",value:function(e){this.setState({title:e.target.value})}},{key:"updateURL",value:function(e){var t=e.target.className.trim().split(" ");e.target.value.length&&!b.RegEx.URL.test(e.target.value)?t.push("invalid"):t.splice(t.indexOf("invalid"),1),e.target.className=Object(v.a)(new Set(t)).join(" ").trim(),this.setState({URL:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"embed-group embed-title"},r.a.createElement("div",{className:"embed-title-text"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",maxLength:"256",value:this.state.title,onChange:function(t){return e.updateTitle(t)}})),r.a.createElement("div",{className:"embed-title-url"},r.a.createElement("input",{type:"url",name:"url",placeholder:"URL",value:this.state.URL,onChange:function(t){return e.updateURL(t)}})))}}]),a}(r.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={description:""},n}return Object(c.a)(a,[{key:"updateDescription",value:function(e){this.setState({description:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"embed-group embed-description"},r.a.createElement("textarea",{name:"description",placeholder:"Description",maxLength:"2000",rows:"5",value:this.state.description,onChange:function(t){return e.updateDescription(t)}}))}}]),a}(r.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={thumbnailURL:""},n}return Object(c.a)(a,[{key:"updateThumbnailURL",value:function(e){var t=e.target.className.trim().split(" ");e.target.value.length&&!b.RegEx.imageURL.test(e.target.value)?t.push("invalid"):t.splice(t.indexOf("invalid"),1),e.target.className=Object(v.a)(new Set(t)).join(" ").trim(),this.setState({thumbnailURL:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"embed-group embed-thumbnail"},r.a.createElement("div",{className:"embed-thumbnail-url"},r.a.createElement("input",{type:"url",name:"thumbnail:url",placeholder:"Thumbnail URL",value:this.state.thumbnailURL,onChange:function(t){return e.updateThumbnailURL(t)}})))}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"addField",value:function(e){var t=document.getElementById("fields"),a=t.children.length;a>=24?e.setAttribute("disabled",!0):e.removeAttribute("disabled"),t.insertAdjacentHTML("beforeend",'<div id="field-'.concat(a,'" class="embed-group" style="display: inline-block; margin-top: 0; width: 50%">\n         <div class="field">\n           <input type="text" name="field-').concat(a,':name" maxlength="256" placeholder="Field ').concat(a+1,' Name" />\n           <textarea name="field-').concat(a,':value" maxlength="1024" rows="2" placeholder="Field ').concat(a+1,' Description"></textarea>\n           <label>\n             <input type="checkbox" name="field-').concat(a,":inline\" onChange=\"let field = document.getElementById(this.name.replace(':inline', '')); this.checked ? field.setAttribute('style', 'display: inline-block; margin-top: 0; width: 50%;') : field.removeAttribute('style')\"} checked />\n             <span>Inline</span>\n           </label>\n         </div>\n       </div>")),document.getElementById("btn-removeField").removeAttribute("disabled")}},{key:"removeField",value:function(e){var t=document.getElementById("fields").children.length;t-1?e.removeAttribute("disabled"):e.setAttribute("disabled",!0);var a=document.getElementById("field-".concat(t-1));a&&a.parentNode.removeChild(a),document.getElementById("btn-addField").removeAttribute("disabled")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"embed-group embed-fields"},r.a.createElement("div",{id:"fields"}),r.a.createElement("div",{className:"embed-group-controls"},r.a.createElement("button",{id:"btn-addField",type:"button",onClick:function(t){return e.addField(t.target)}},r.a.createElement("span",{role:"img","aria-label":"Add Emoji"},"\u2795"),"\u2002 Add Field"),r.a.createElement("button",{id:"btn-removeField",type:"button",onClick:function(t){return e.removeField(t.target)}},r.a.createElement("span",{role:"img","aria-label":"Remove Emoji"},"\u2796"),"\u2002 Remove Field")))}}]),a}(r.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={imageURL:""},n}return Object(c.a)(a,[{key:"updateImageURL",value:function(e){var t=e.target.className.trim().split(" ");e.target.value.length&&!b.RegEx.imageURL.test(e.target.value)?t.push("invalid"):t.splice(t.indexOf("invalid"),1),e.target.className=Object(v.a)(new Set(t)).join(" ").trim(),this.setState({imageURL:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"embed-group embed-image"},r.a.createElement("div",{className:"embed-image-url"},r.a.createElement("input",{type:"url",name:"image:url",placeholder:"Image URL",value:this.state.imageURL,onChange:function(t){return e.updateImageURL(t)}})))}}]),a}(r.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={text:"",iconURL:""},n}return Object(c.a)(a,[{key:"updateText",value:function(e){this.setState({text:e.target.value})}},{key:"updateIconURL",value:function(e){var t=e.target.className.trim().split(" ");e.target.value.length&&!b.RegEx.imageURL.test(e.target.value)?t.push("invalid"):t.splice(t.indexOf("invalid"),1),e.target.className=Object(v.a)(new Set(t)).join(" ").trim(),this.setState({iconURL:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"embed-group embed-footer"},r.a.createElement("div",{className:"embed-timestamp"},r.a.createElement("label",null,r.a.createElement("input",{name:"timestamp",type:"checkbox"}),"Add Timestamp")))}}]),a}(r.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"cell"},r.a.createElement("div",{id:"builder-container"},r.a.createElement("form",{id:"embed-builder"},r.a.createElement("div",{className:"embed"},r.a.createElement("div",{className:"embed-content"},r.a.createElement("div",{className:"embed-content-inner"},r.a.createElement(p,null),r.a.createElement(g,null),r.a.createElement(f,null),r.a.createElement(E,null),r.a.createElement(y,null),r.a.createElement(j,null),r.a.createElement(O,null))),r.a.createElement(R,null)))))}}]),a}(r.a.Component),C=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={embedObject:{}},n}return Object(c.a)(a,[{key:"generateJSON",value:function(){var e=document.getElementById("embed-builder"),t={},a=e.elements.color.value;a&&(t.color=parseInt(a,10));var n=e.elements["author:name"].value;if(n){t.hasOwnProperty("author")||(t.author={}),t.author.name=n;var r=e.elements["author:url"].value;r&&b.RegEx.URL.test(r)&&(t.author.url=r);var l=e.elements["author:icon_url"].value;l&&b.RegEx.imageURL.test(l)&&(t.author.icon_url=l)}var i=e.elements.title.value;i&&(t.title=i);var o=e.elements.url.value;o&&b.RegEx.URL.test(o)&&(t.url=o);var c=e.elements.description.value;c&&(t.description=c);var u=document.getElementById("fields").children;if(u.length){t.hasOwnProperty("fields")||(t.fields=[]);for(var s=0;s<u.length;s++){var m=e.elements["field-".concat(s,":name")].value,d=e.elements["field-".concat(s,":value")].value,h=e.elements["field-".concat(s,":inline")].checked;m&&d&&t.fields.push({name:m,value:d,inline:h})}}var p=e.elements["thumbnail:url"].value;p&&b.RegEx.imageURL.test(p)&&(t.thumbnail=p);var v=e.elements["image:url"].value;v&&b.RegEx.imageURL.test(v)&&(t.image=v),e.elements.timestamp.checked&&(t.timestamp=new Date),document.getElementById("json-output").innerHTML=JSON.stringify(t,null,"  ");var g=document.getElementById("json-output").innerHTML;g=(g=(g=(g=g.replace(/"([\w]*)":/g,'<span class="highlight key">"$1"</span>:')).replace(/(\d*),/g,'<span class="highlight number">$1</span>,')).replace(/: (true|false)/g,': <span class="highlight boolean">$1</span>')).replace(/: "(.*?)"/g,': <span class="highlight string">"$1"</span>'),document.getElementById("json-output").innerHTML=g}},{key:"copyJSON",value:function(){var e=document.getElementById("json-output");if(document.selections){var t=document.body.createTextRange();t.moveToElementText(e),t.select().createTextRange(),document.execCommand("Copy")}else if(window.getSelection){var a=document.createRange();a.selectNode(e),window.getSelection().addRange(a),document.execCommand("Copy")}else console.error("Unable to automatically copy the output, please copy it manually and report the issue on GitHub: https://github.com/TheBastionBot/embedbuilder/issues/new?title=The+copy+button+is+not+working")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cell"},r.a.createElement("div",{id:"output-container"},r.a.createElement("div",{className:"controller"},r.a.createElement("button",{onClick:function(){return e.generateJSON()}},r.a.createElement("span",{role:"img","aria-label":"Gear Emoji"},"\u2699"),"\u2002Generate JSON"),r.a.createElement("button",{onClick:function(){return e.copyJSON()}},r.a.createElement("span",{role:"img","aria-label":"Copy Emoji"},"\ud83d\udd17"),"\u2002Copy JSON")),r.a.createElement("div",{className:"output"},r.a.createElement("pre",null,r.a.createElement("div",{id:"json-output",readOnly:!0},JSON.stringify(this.state.embedObject,null,2))))))}}]),a}(r.a.Component),L=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(k,null),r.a.createElement(C,null))}}]),a}(r.a.Component),N=(a(262),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-container"},r.a.createElement(d,null),r.a.createElement(L,null),r.a.createElement(m,null))}}]),a}(r.a.Component)),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(N,null),document.getElementById("__bastion")),function(){if("serviceWorker"in navigator){if(new URL("/embedbuilder",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/embedbuilder","/service-worker.js");x?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):U(e)}))}}()},7:function(e,t){t.RegEx={URL:/^(http[s]?:\/\/)(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/i,imageURL:/^(https?:\/\/)((([-a-z0-9]{1,})?(-?)+[-a-z0-9]{1,})(\.))+([a-z]{1,63})\/((([a-z0-9._\-~#%])+\/)+)?([a-z0-9._\-~#%]+)\.(jpg|jpeg|gif|png|bmp)$/i}},90:function(e,t,a){e.exports=a(263)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.043bbda4.chunk.js.map